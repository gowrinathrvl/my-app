<h1>Todo</h1>
<div class="container">
    <div class="alert alert-warning" *ngIf=" todoForm.invalid && todoForm.dirty">please enter valid data</div>
    <div class="alert alert-warning" *ngIf=" todoForm.invalid && targetDescription.dirty">please min 5 characters</div>
    <div class="alert alert-warning" *ngIf=" todoForm.invalid && targetDate.dirty">please valid target date</div>
    <form (ngSubmit)="!todoForm.invalid && saveTodo(id)" #todoForm="ngForm">
        <fieldset class="mb-3">
            <label class="form-label">Description</label>
            <input type="text" #targetDescription = "ngModel" [(ngModel)]="todo.description" class="form-control" name="description" required="required" minlength="5">
            <!--
                oneway of form validation in angular
                 <div *ngIf="todoForm.controls['description'].errors">
                <div *ngIf="todoForm.controls['description'].errors['required']">
                  Description is required.
                </div>
                <div *ngIf="todoForm.controls['description'].errors['minlength']">
                  Description must be at least 5 characters long.
                </div>
              </div> -->

              
        </fieldset>
        
        <fieldset class="mb-3">
            <label class="form-label">Target Date</label>
            <input type="date" #targetDate = "ngModel"
            [ngModel]="todo.targetDate | date:'yyyy-MM-dd'"
            (ngModelChange)="todo.targetDate = $event"
            class="form-control" name="targetDate" required="required">
        </fieldset>
        
        <button class="btn btn-success" type="submit">save</button>
    </form>
</div>